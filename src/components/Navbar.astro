---
---
<nav class="navbar">
    <div class="nav-container">
        <a href="/#AboutMe" class="nav-link active">About</a>
        <a href="/#Skills" class="nav-link">Skills</a>
        <a href="/#Projects" class="nav-link">Projects</a>
        <a href="/#Awards" class="nav-link">Awards</a>
        <a href="/#MusicSport" class="nav-link">Music & sport</a>
    </div>
</nav>

<style>
    .navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        z-index: 1000;
        pointer-events: none;
    }

    .nav-container {
        background-color: #0a0a0a;
        width: 100%;
        padding: 12px 40px;
        display: flex;
        gap: 8px;
        pointer-events: auto;
        border-bottom: 1px solid #222;
    }

    .nav-link {
        color: #a0a0a0;
        text-decoration: none;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 500;
        padding: 8px 20px;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    .nav-link:hover {
        color: #fff;
        background-color: rgba(255, 255, 255, 0.05);
    }

    .nav-link.active {
        background-color: #222;
        color: #fff;
    }
</style>

<script>
    const navLinks = document.querySelectorAll('.nav-link');
    
    // Get all section IDs from the nav links
    const sectionIds = Array.from(navLinks).map(link => {
        const href = link.getAttribute('href');
        return href.startsWith('/#') ? href.substring(1) : href;
    });

    // Filter to only sections that actually exist on the current page
    const sections = sectionIds.map(id => document.querySelector(id)).filter(section => section !== null);

    function onScroll() {
        if (sections.length === 0) return; // Don't run spy if sections aren't present

        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            // Offset for fixed header
            if (window.scrollY >= (sectionTop - 200)) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            const href = link.getAttribute('href');
            if (href === `/#${current}` || href === `#${current}`) {
                link.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', onScroll);
    // Call once on load to set initial state
    onScroll();

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            
            // Handle links that start with /#
            if (href && href.startsWith('/#')) {
                const targetId = href.substring(1); // Remove the leading /
                const targetSection = document.querySelector(targetId);
                
                // If the section exists on this page, smooth scroll to it
                if (targetSection) {
                    e.preventDefault();
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                    // Optional: update URL hash without scrolling
                    history.pushState(null, null, targetId);
                }
                // If section doesn't exist, let the default behavior happen (navigate to the page)
            }
        });
    });
</script>
